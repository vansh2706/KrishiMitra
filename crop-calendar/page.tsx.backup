'use client'

import { useState, useEffect } from 'react'
import { Card, CardContent } from '@/components/ui/card'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Search, Calendar, Sprout, Download, Filter } from 'lucide-react'

// Define types
type Season = 'Kharif' | 'Rabi' | 'Zaid' | 'All'
type CropType = 'Cereal' | 'Pulses' | 'Vegetables' | 'Fruits' | 'Oilseeds' | 'Fibers' | 'All'

interface CropData {
    id: string
    name: {
        en: string;
        hi: string;
        ta: string;
        te: string;
        bn: string;
        gu: string;
        mr: string;
        pa: string;
    }
    season: Season
    cropType: CropType
    sowingStart: number // Month (1-12)
    sowingEnd: number
    harvestingStart: number
    harvestingEnd: number
    image: string
    description?: {
        en: string;
        hi: string;
        ta: string;
        te: string;
        bn: string;
        gu: string;
        mr: string;
        pa: string;
    }
}

// Extended crop data with more Indian crops
const cropData: CropData[] = [
    {
        id: '1',
        name: { en: 'Wheat', hi: 'गेहूँ', ta: 'கோதுமை', te: 'గోధుమలు', bn: 'গম', gu: 'ઘઉં', mr: 'गहू', pa: 'ਕਣਕ' },
        season: 'Rabi',
        cropType: 'Cereal',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 3, // March
        harvestingEnd: 5, // May
        image: '/crop-icons/wheat.svg',
        description: {
            en: 'Major Rabi crop sown in winter',
            hi: 'प्रमुख रबी फसल शीतकाल में बोई जाती है',
            ta: 'குளிர்காலத்தில் விதைக்கப்படும் முக்கிய ரபி பயிர்',
            te: 'శీతాకాలంలో నాటే ప్రధాన రబీ పంట',
            bn: 'শীতকালে রোপণ করা প্রধান রবি ফসল',
            gu: 'શિયાળામાં રોપવામાં આવતી મુખ્ય રબી પાક',
            mr: 'हिवाळ्यात लावलेली मुख्य रब्बी पीक',
            pa: 'ਸਰਦੀਆਂ ਵਿੱਚ ਲਗਾਈ ਜਾਣ ਵਾਲੀ ਮੁੱਖ ਰਬੀ ਫਸਲ'
        }
    },
    {
        id: '2',
        name: { en: 'Rice', hi: 'चावल', ta: 'அரிசி', te: 'వరి', bn: 'ধান', gu: 'ચોખા', mr: 'भात', pa: 'ਚਾਵਲ' },
        season: 'Kharif',
        cropType: 'Cereal',
        sowingStart: 6, // June
        sowingEnd: 9, // September
        harvestingStart: 10, // October
        harvestingEnd: 12, // December
        image: '/crop-icons/rice.svg',
        description: {
            en: 'Major Kharif crop requiring plenty of water',
            hi: 'प्रमुख खरीफ फसल जिसके लिए पर्याप्त पानी की आवश्यकता होती है',
            ta: 'நீர் அதிகமாக தேவைப்படும் முக்கிய கரீஃப் பயிர்',
            te: 'చాలా నీరు అవసరమైన ప్రధాన ఖరీఫ్ పంట',
            bn: 'প্রচুর জল প্রয়োজন হয় এমন প্রধান খরিফ ফসল',
            gu: 'પ્રચુર પાણીની જરૂર ધરાવતી મુખ્ય ખરીફ પાક',
            mr: 'पुष्कळ पाण्याची आवश्यकता असलेली मुख्य खरीफ पीक',
            pa: 'ਬਹੁਤ ਸਾਰਾ ਪਾਣੀ ਚਾਹੁੰਦੀ ਹੈ ਮੁੱਖ ਖਰੀਫ ਫਸਲ'
        }
    },
    {
        id: '3',
        name: { en: 'Maize', hi: 'मक्का', ta: 'சோளம்', te: 'మొక్కజొన్న', bn: 'ভুট্টা', gu: 'મકાઈ', mr: 'मका', pa: 'ਮੱਕੀ' },
        season: 'Kharif',
        cropType: 'Cereal',
        sowingStart: 6, // June
        sowingEnd: 8, // August
        harvestingStart: 9, // September
        harvestingEnd: 11, // November
        image: '/crop-icons/maize.svg',
        description: {
            en: 'Kharif cereal crop used for food and fodder',
            hi: 'खरीफ अनाज फसल जिसका उपयोग खाद्य और चारा के लिए किया जाता है',
            ta: 'உணவு மற்றும் தீன்றுகொள்ளுதலுக்காக பயன்படுத்தப்படும் கரீஃப் கோதுமை பயிர்',
            te: 'ఆహారం మరియు ఎండబెట్టుకోడానికి ఉపయోగించే ఖరీఫ్ ధాన్యం',
            bn: 'খাদ্য এবং চারা হিসাবে ব্যবহৃত খরিফ শস্য ফসল',
            gu: 'ખાદ્ય અને ચારો માટે ઉપયોગમાં લેવાતી ખરીફ અનાજની પાક',
            mr: 'अन्न आणि चारा म्हणून वापरली जाणारी खरीफ धान्य पीक',
            pa: 'ਖੁਰਾਕ ਅਤੇ ਚਾਰਾ ਲਈ ਵਰਤੀ ਜਾਣ ਵਾਲੀ ਖਰੀਫ ਅਨਾਜ ਫਸਲ'
        }
    },
    {
        id: '4',
        name: { en: 'Barley', hi: 'जौ', ta: 'வாற்கோதுமை', te: 'యవలు', bn: 'যব', gu: 'જવ', mr: 'जव', pa: 'ਜੌਂ' },
        season: 'Rabi',
        cropType: 'Cereal',
        sowingStart: 10, // October
        sowingEnd: 11, // November
        harvestingStart: 3, // March
        harvestingEnd: 4, // April
        image: '/crop-icons/barley.svg',
        description: {
            en: 'Rabi cereal crop tolerant to cold and drought',
            hi: 'रबी अनाज फसल जो ठंड और सूखे के प्रति सहनशील है',
            ta: 'குளிர் மற்றும் வறட்சிக்கு தாங்கும் ரபி கோதுமை பயிர்',
            te: 'చల్లడం మరియు వర్షం లేకపోవడం పట్ల ఓపిక కలిగిన రబీ ధాన్యం',
            bn: 'ঠান্ডা এবং শুকনো আবহাওয়ার প্রতি সহনশীল রবি শস্য ফসল',
            gu: 'શીત અને સૂકા પ્રત્યે સહનશીલ રબી અનાજની પાક',
            mr: 'थंड आणि ड्राऊट यांच्या प्रति सहनशील रब्बी धान्य पीक',
            pa: 'ਠੰਢ ਅਤੇ ਡਰਾਊਟ ਪ੍ਰਤੀ ਸਹਿਣਸ਼ੀਲ ਰਬੀ ਅਨਾਜ ਫਸਲ'
        }
    },
    {
        id: '5',
        name: { en: 'Mustard', hi: 'सरसों', ta: 'கடுகு', te: 'ఆవాలు', bn: 'সরিষা', gu: 'રાઈ', mr: 'मोहरी', pa: 'ਸਰੋਂ' },
        season: 'Rabi',
        cropType: 'Oilseeds',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 2, // February
        harvestingEnd: 4, // April
        image: '/crop-icons/mustard.svg',
        description: {
            en: 'Major Rabi oilseed crop',
            hi: 'प्रमुख रबी तिलहन फसल',
            ta: 'முக்கிய ரபி எண்ணெய் பயிர்',
            te: 'ప్రధాన రబీ ఎండు ధాన్యం',
            bn: 'প্রধান রবি তেল ফসল',
            gu: 'મુખ્ય રબી તેલદાણાંની પાક',
            mr: 'मुख्य रब्बी तेलबियाणे पीक',
            pa: 'ਮੁੱਖ ਰਬੀ ਤੇਲ ਫਸਲ'
        }
    },
    {
        id: '6',
        name: { en: 'Cotton', hi: 'कपास', ta: 'பருத்தி', te: 'పత్తి', bn: 'তুলা', gu: 'કપાસ', mr: 'कापूस', pa: 'ਕਪਾਹ' },
        season: 'Kharif',
        cropType: 'Fibers',
        sowingStart: 5, // May
        sowingEnd: 7, // July
        harvestingStart: 10, // October
        harvestingEnd: 12, // December
        image: '/crop-icons/cotton.svg',
        description: {
            en: 'Kharif fiber crop',
            hi: 'खरीफ रेशम फसल',
            ta: 'கரீஃப் இழை பயிர்',
            te: 'ఖరీఫ్ ఫైబర్ పంట',
            bn: 'খরিফ ফাইবার ফসল',
            gu: 'ખરીફ રેશમની પાક',
            mr: 'खरीफ फायबर पीक',
            pa: 'ਖਰੀਫ ਰੇਸ਼ਮ ਫਸਲ'
        }
    },
    {
        id: '7',
        name: { en: 'Sugarcane', hi: 'गन्ना', ta: 'கரும்பு', te: 'చెరకు', bn: 'আখ', gu: 'શેરડી', mr: 'ऊस', pa: 'ਗੰਨਾ' },
        season: 'Zaid',
        cropType: 'Cereal',
        sowingStart: 1, // January
        sowingEnd: 3, // March
        harvestingStart: 9, // September
        harvestingEnd: 12, // December
        image: '/crop-icons/sugarcane.svg',
        description: {
            en: 'Long duration Zaid crop',
            hi: 'लंबी अवधि की ज़ैद फसल',
            ta: 'நீண்ட கால ஜைத் பயிர்',
            te: 'దీర్ఘకాలం పడిన జైత్ పంట',
            bn: 'দীর্ঘ সময়ের জাইদ ফসল',
            gu: 'લાંબા સમયની જૈત પાક',
            mr: 'दीर्घ कालीन जैत पीक',
            pa: 'ਲੰਬੇ ਸਮੇਂ ਦੀ ਜ਼ੈਦ ਫਸਲ'
        }
    },
    {
        id: '8',
        name: { en: 'Watermelon', hi: 'तरबूज', ta: 'தர்பூசணி', te: 'బంతాకాయ', bn: 'তরমুজ', gu: 'તરબૂચ', mr: 'तरबूज', pa: 'ਤਰਬੂਜ਼' },
        season: 'Zaid',
        cropType: 'Fruits',
        sowingStart: 3, // March
        sowingEnd: 5, // May
        harvestingStart: 6, // June
        harvestingEnd: 8, // August
        image: '/crop-icons/watermelon.svg',
        description: {
            en: 'Summer Zaid fruit crop',
            hi: 'ग्रीष्मकालीन ज़ैद फल फसल',
            ta: 'கோடை ஜைத் பழ பயிர்',
            te: 'వేసవి జైత్ పండు పంట',
            bn: 'গ্রীষ্মকালীন জাইদ ফল ফসল',
            gu: 'ઉનાળાની જૈત ફળની પાક',
            mr: 'उन्हाळ्यातील जैत फळ पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਜ਼ੈਦ ਫਲ ਫਸਲ'
        }
    },
    {
        id: '9',
        name: { en: 'Moong Dal', hi: 'मूंग दाल', ta: 'பச்சை உளுந்து', te: 'పచ్చ పప్పు', bn: 'সবুজ মুগ ডাল', gu: 'લીલી મૂંગ દાળ', mr: 'हिरवी मूग दाळ', pa: 'ਹਰੀ ਮੂੰਗ ਦਾਲ' },
        season: 'Kharif',
        cropType: 'Pulses',
        sowingStart: 6, // June
        sowingEnd: 7, // July
        harvestingStart: 9, // September
        harvestingEnd: 10, // October
        image: '/crop-icons/moong.svg',
        description: {
            en: 'Short duration Kharif pulse',
            hi: 'छोटी अवधि की खरीफ दाल',
            ta: 'குறுகிய கால கரீஃப் பருப்பு',
            te: 'తక్కువ కాలం పడిన ఖరీఫ్ పప్పు',
            bn: 'করীফ করুক সময়ের সবুজ মুগ ডাল',
            gu: 'ખરીફ કાલા મૂંગ દાળ',
            mr: 'खरीफ काळाची हिरवी मूग दाळ',
            pa: 'ਖਰੀਫ ਕਾਲ ਹਰੀ ਮੂੰਗ ਦਾਲ'
        }
    },
    {
        id: '10',
        name: { en: 'Tomato', hi: 'टमाटर', ta: 'தமதர்', te: 'టామాటో', bn: 'টমেটো', gu: 'ટોમેટો', mr: 'टोमॅटो', pa: 'ਟੋਮਾਟੋ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 1, // January
        sowingEnd: 3, // March
        harvestingStart: 4, // April
        harvestingEnd: 6, // June
        image: '/crop-icons/tomato.svg',
        description: {
            en: 'Zaid vegetable crop',
            hi: 'ज़ैद सब्जी फसल',
            ta: 'ஜைத் வேட்டு பயிர்',
            te: 'జైత్ వేట్ పంట',
            bn: 'জাইদ বেটি ফসল',
            gu: 'જૈત વેટ્ચું પાક',
            mr: 'जैत वेट्चून पीक',
            pa: 'ਜ਼ੈਦ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '11',
        name: { en: 'Onion', hi: 'प्याज', ta: 'வெள்ளை பொய்', te: 'పయాజు', bn: 'পায়জ', gu: 'પયાઝ', mr: 'पायज', pa: 'ਪਾਯਜ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 2, // February
        harvestingEnd: 4, // April
        image: '/crop-icons/onion.svg',
        description: {
            en: 'Rabi vegetable crop',
            hi: 'रबी सब्जी फसल',
            ta: 'ரபி வேட்டு பயிர்',
            te: 'రబీ వేట్ పంట',
            bn: 'রবি বেটি ফসল',
            gu: 'રબી વેટ્ચું પાક',
            mr: 'रब्बी वेट्चून पीक',
            pa: 'ਰਬੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '12',
        name: { en: 'Potato', hi: 'आलू', ta: 'ஆளு', te: 'ఆలు', bn: 'আলু', gu: 'આલૂ', mr: 'आलू', pa: 'ਆਲੂ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 1, // January
        harvestingEnd: 3, // March
        image: '/crop-icons/potato.svg',
        description: {
            en: 'Rabi tuber crop',
            hi: 'रबी कंद फसल',
            ta: 'ரபி கான்டு பயிர்',
            te: 'రబీ కాండు పంట',
            bn: 'রবি কাঁড়ি ফসল',
            gu: 'રબી કાંડુ પાક',
            mr: 'रब्बी कांडून पीक',
            pa: 'ਰਬੀ ਕਾਂਡੂਨ ਫਸਲ'
        }
    },
    {
        id: '13',
        name: { en: 'Groundnut', hi: 'मूंगफली', ta: 'முங்கான்கு', te: 'మూంగఫలీ', bn: 'মুঁগফলি', gu: 'મૂંગફલી', mr: 'मूंगफली', pa: 'ਮੂਂਗਫਲੀ' },
        season: 'Kharif',
        cropType: 'Oilseeds',
        sowingStart: 6, // June
        sowingEnd: 8, // August
        harvestingStart: 10, // October
        harvestingEnd: 12, // December
        image: '/crop-icons/groundnut.svg',
        description: {
            en: 'Kharif oilseed crop',
            hi: 'खरीफ तिलहन फसल',
            ta: 'கரீஃப் எண்ணெய் பயிர்',
            te: 'ఖరీఫ్ ఎండు ధాన్యం',
            bn: 'খরিফ তেল ফসল',
            gu: 'ખરીફ તેલદાણાંની પાક',
            mr: 'खरीफ तेलबियाणे पीक',
            pa: 'ਖਰੀਫ ਤੇਲ ਫਸਲ'
        }
    },
    {
        id: '14',
        name: { en: 'Soybean', hi: 'सोयाबीन', ta: 'சோயாபீன்', te: 'సోయాబీన్', bn: 'সোযাবীন', gu: 'સોયાબીન', mr: 'सोयाबीन', pa: 'ਸੋਆਬੀਨ' },
        season: 'Kharif',
        cropType: 'Oilseeds',
        sowingStart: 6, // June
        sowingEnd: 7, // July
        harvestingStart: 10, // October
        harvestingEnd: 11, // November
        image: '/crop-icons/soybean.svg',
        description: {
            en: 'Kharif oilseed crop',
            hi: 'खरीफ तिलहन फसल',
            ta: 'கரீஃப் எண்ணெய் பயிர்',
            te: 'ఖరీఫ్ ఎండు ధాన్యం',
            bn: 'খরিফ তেল ফসল',
            gu: 'ખરીફ તેલદાણાંની પાક',
            mr: 'खरीफ तेलबियाणे पीक',
            pa: 'ਖਰੀਫ ਤੇਲ ਫਸਲ'
        }
    },
    {
        id: '15',
        name: { en: 'Bajra', hi: 'बाजरा', ta: 'பாஜரா', te: 'బజ్ర', bn: 'বাজরা', gu: 'બઝરા', mr: 'बाजरा', pa: 'ਬਜਰਾ' },
        season: 'Kharif',
        cropType: 'Cereal',
        sowingStart: 6, // June
        sowingEnd: 8, // August
        harvestingStart: 9, // September
        harvestingEnd: 11, // November
        image: '/crop-icons/bajra.svg',
        description: {
            en: 'Drought tolerant Kharif cereal',
            hi: 'सूखे के प्रति सहनशील खरीफ अनाज',
            ta: 'வறட்சிக்கு தாங்கும் கரீஃப் கோதுமை பயிர்',
            te: 'వర్షం లేకపోవడం పట్ల ఓపిక కలిగిన ఖరీఫ్ ధాన్యం',
            bn: 'শুকনো আবহাওয়ার প্রতি সহনশীল খরিফ শস্য ফসল',
            gu: 'સૂકા પ્રત્યે સહનશીલ ખરીફ અનાજની પાક',
            mr: 'ड्राऊट यांच्या प्रति सहनशील खरीफ धान्य पीक',
            pa: 'ਡਰਾਊਟ ਪ੍ਰਤੀ ਸਹਿਣਸ਼ੀਲ ਖਰੀਫ ਅਨਾਜ ਫਸਲ'
        }
    },
    {
        id: '16',
        name: { en: 'Jowar', hi: 'ज्वार', ta: 'ஜோவார்', te: 'జోవార్', bn: 'জোয়ার', gu: 'જોવાર', mr: 'जोवार', pa: 'ਜੋਵਾਰ' },
        season: 'Kharif',
        cropType: 'Cereal',
        sowingStart: 6, // June
        sowingEnd: 8, // August
        harvestingStart: 9, // September
        harvestingEnd: 11, // November
        image: '/crop-icons/jowar.svg',
        description: {
            en: 'Kharif cereal crop',
            hi: 'खरीफ अनाज फसल',
            ta: 'கரீஃப் கோதுமை பயிர்',
            te: 'ఖరీఫ్ ధాన్యం',
            bn: 'খরিফ শস্য ফসল',
            gu: 'ખરીફ અનાજની પાક',
            mr: 'खरीफ धान्य पीक',
            pa: 'ਖਰੀਫ ਅਨਾਜ ਫਸਲ'
        }
    },
    {
        id: '17',
        name: { en: 'Pigeon Pea', hi: 'अरहर दाल', ta: 'அருள்பெயர்', te: 'అరహర్ పప్పు', bn: 'আরহর ডাল', gu: 'અરહર દાળ', mr: 'अरहर दाळ', pa: 'ਅਰਹਰ ਦਾਲ' },
        season: 'Kharif',
        cropType: 'Pulses',
        sowingStart: 6, // June
        sowingEnd: 7, // July
        harvestingStart: 1, // January
        harvestingEnd: 4, // April (next year)
        image: '/crop-icons/pigeon-pea.svg',
        description: {
            en: 'Important pulse crop grown in kharif season',
            hi: 'खरीफ में उगाई जाने वाली महत्वपूर्ण दाल',
            ta: 'கரீஃப் கட்டியில் வளரும் முக்கிய பருப்பு',
            te: 'ఖరీఫ్ కాలంలో వస్తు జరుగుతున్న ప్రధాన పప్పు',
            bn: 'খরিফ সালে উঠান হওয়া মুখ্য ডাল',
            gu: 'ખરીફ વાર્ષિકમાં વસ્તુ જરુગે મુખ્ય દાળ',
            mr: 'खरीफ वर्षात उगालेली महत्वाची दाळ',
            pa: 'ਖਰੀਫ ਵਾਰਸ਼ ਵਿੱਚ ਉਠਾਉਣ ਵਾਲੀ ਮੁੱਖ ਦਾਲ'
        }
    },
    {
        id: '18',
        name: { en: 'Chickpea', hi: 'चना', ta: 'توجெ', te: 'చిక్కపే', bn: 'চিক্কা', gu: 'ચિક્કા', mr: 'चिक्का', pa: 'ਚਿਕਕਾ' },
        season: 'Rabi',
        cropType: 'Pulses',
        sowingStart: 10, // October
        sowingEnd: 11, // November
        harvestingStart: 3, // March
        harvestingEnd: 5, // May
        image: '/crop-icons/chickpea.svg',
        description: {
            en: 'Major Rabi pulse crop',
            hi: 'प्रमुख रबी दाल',
            ta: 'முக்கிய ரபி பருப்பு',
            te: 'ప్రధాన రబీ పప్పు',
            bn: 'প্রধান রবি ডাল',
            gu: 'મુખ્ય રબી દાળ',
            mr: 'मुख्य रब्बी दाळ',
            pa: 'ਮੁੱਖ ਰਬੀ ਦਾਲ'
        }
    },
    {
        id: '19',
        name: { en: 'Lentil', hi: 'मसूर दाल', ta: 'முசுர்', te: 'లెంటిల్', bn: 'লেন্টিল', gu: 'લેન્ટિલ', mr: 'लेंटिल', pa: 'ਲੈਂਟਿਲ' },
        season: 'Rabi',
        cropType: 'Pulses',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 2, // February
        harvestingEnd: 4, // April
        image: '/crop-icons/lentil.svg',
        description: {
            en: 'Cool season Rabi pulse',
            hi: 'शीत ऋतु की रबी दाल',
            ta: 'வேளை காலத்தில் ரபி பருப்பு',
            te: 'శీత కాలంలో రబీ పప్పు',
            bn: 'শীত সময়ের রবি ডাল',
            gu: 'શીત વાર્ષિકમાં રબી દાળ',
            mr: 'शीत ऋतुचा रब्बी दाळ',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਰਬੀ ਦਾਲ'
        }
    },
    {
        id: '20',
        name: { en: 'Brinjal', hi: 'बैंगन', ta: 'வாங்காயம்', te: 'బ్రింజల్', bn: 'বেঁগুন', gu: 'બેંગન', mr: 'बैंगन', pa: 'ਬੈਂਗਨ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 2, // February
        sowingEnd: 4, // April
        harvestingStart: 5, // May
        harvestingEnd: 9, // September
        image: '/crop-icons/brinjal.svg',
        description: {
            en: 'Summer vegetable crop',
            hi: 'ग्रीष्मकालीन सब्जी फसल',
            ta: 'கோடை வேட்டு பயிர்',
            te: 'వేసవి వేట్ పంట',
            bn: 'গ্রীষ্মকালীন বেটি ফসল',
            gu: 'ઉનાળાની વેટ્ચું પાક',
            mr: 'उन्हाळ्यातील वेट्चून पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '21',
        name: { en: 'Cauliflower', hi: 'फूलगोभी', ta: 'பூல்கோப்பி', te: 'బుక్కాల్', bn: 'ফুল গোবা', gu: 'ફુલ ગોબી', mr: 'फूलगोभी', pa: 'ਫੂਲ ਗੋਬੀ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 9, // September
        sowingEnd: 11, // November
        harvestingStart: 12, // December
        harvestingEnd: 2, // February (next year)
        image: '/crop-icons/cauliflower.svg',
        description: {
            en: 'Winter Rabi vegetable',
            hi: 'शीतकालीन रबी सब्जी',
            ta: 'வேளை காலத்தில் ரபி வேட்டு பயிர்',
            te: 'శీత కాలంలో రబీ వేట్ పంట',
            bn: 'শীত সময়ের রবি বেটি ফসল',
            gu: 'શીત વાર્ષિકમાં રબી વેટ્ચું પાક',
            mr: 'शीत ऋतुचा रब्बी वेट्चून पीक',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਰਬੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '22',
        name: { en: 'Cabbage', hi: 'पत्तागोभी', ta: 'போட்டுகோப்பி', te: 'బోగ్బాల్', bn: 'পট্টা গোবা', gu: 'પટ્ટા ગોબી', mr: 'पत्तागोभी', pa: 'ਪੱਟਾ ਗੋਬੀ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 9, // September
        sowingEnd: 11, // November
        harvestingStart: 12, // December
        harvestingEnd: 2, // February (next year)
        image: '/crop-icons/cabbage.svg',
        description: {
            en: 'Winter Rabi vegetable',
            hi: 'शीतकालीन रबी सब्जी',
            ta: 'வேளை காலத்தில் ரபி வேட்டு பயிர்',
            te: 'శీత కాలంలో రబీ వేట్ పంట',
            bn: 'শীত সময়ের রবি বেটি ফসল',
            gu: 'શીત વાર્ષિકમાં રબી વેટ્ચું પાક',
            mr: 'शीत ऋतुचा रब्बी वेट्चून पीक',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਰਬੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '23',
        name: { en: 'Carrot', hi: 'गाजर', ta: 'காரெட்', te: 'కారెట్', bn: 'গাজর', gu: 'ગાજર', mr: 'गाजर', pa: 'ਗਾਜਰ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 1, // January
        harvestingEnd: 3, // March
        image: '/crop-icons/carrot.svg',
        description: {
            en: 'Winter Rabi root vegetable',
            hi: 'शीतकालीन रबी जड़ सब्जी',
            ta: 'வேளை காலத்தில் ரபி மூல வேட்டு பயிர்',
            te: 'శీత కాలంలో రబీ మూల వేట్ పంట',
            bn: 'শীত সময়ের রবি মূল বেটি ফসল',
            gu: 'શીત વાર્ષિકમાં રબી મૂળ વેટ્ચું પાક',
            mr: 'शीत ऋतुचा रब्बी मूल वेट्चून पीक',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਰਬੀ ਮੂਲ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '24',
        name: { en: 'Radish', hi: 'मूली', ta: 'ரெடிஷ்', te: 'రెడిష్', bn: 'রাড়িশ', gu: 'રાડિશ', mr: 'राडिश', pa: 'ਰੈਡਿਸ਼' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 12, // December
        harvestingEnd: 2, // February
        image: '/crop-icons/radish.svg',
        description: {
            en: 'Quick growing winter vegetable',
            hi: 'तेजी से बढ़ने वाली शीतकालीन सब्जी',
            ta: 'வேளை காலத்தில் தீவ்ரமாக வளரும் வேட்டு பயிர்',
            te: 'శీత కాలంలో తీవ్రంగా వస్తు జరుగుతున్న వేట్ పంట',
            bn: 'শীত সময়ে তীব্রভাবে উঠান হওয়া বেটি ফসল',
            gu: 'શીત વાર્ષિકમાં તીવ્ર વસ્તુ જરુગે વેટ્ચું પાક',
            mr: 'शीत ऋतुचा तीव्र वाढ वेट्चून पीक',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਤੀਵਰ ਵਾਡ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '25',
        name: { en: 'Green Chilli', hi: 'हरी मिर्च', ta: 'பச்சை மிர்ச', te: 'పచ్చ మిర్చ్', bn: 'সবুজ মির্চ', gu: 'લીલી મિર્ચ', mr: 'हरी मिर्च', pa: 'ਹਰੀ ਮਿਰਚ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 3, // March
        sowingEnd: 5, // May
        harvestingStart: 6, // June
        harvestingEnd: 9, // September
        image: '/crop-icons/green-chilli.svg',
        description: {
            en: 'Summer Zaid vegetable',
            hi: 'ग्रीष्मकालीन ज़ैद सब्जी',
            ta: 'கோடை ஜைத் வேட்டு பயிர்',
            te: 'వేసవి జైత్ వేట్ పంట',
            bn: 'গ্রীষ্মকালীন জাইদ বেটি ফসল',
            gu: 'ઉનાળાની જૈત વેટ્ચું પાક',
            mr: 'उन्हाळ्यातील जैत वेट्चून पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਜ਼ੈਦ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '26',
        name: { en: 'Bottle Gourd', hi: 'लौकी', ta: 'போட்டுகோட்டு', te: 'బట్టల్ గౌర్డ్', bn: 'পটলা', gu: 'પોટલા', mr: 'लौकी', pa: 'ਪੋਟਲਾ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 3, // March
        sowingEnd: 5, // May
        harvestingStart: 6, // June
        harvestingEnd: 9, // September
        image: '/crop-icons/bottle-gourd.svg',
        description: {
            en: 'Summer climbing vegetable',
            hi: 'ग्रीष्मकालीन लता सब्जी',
            ta: 'கோடை வாலிப்பு வேட்டு பயிர்',
            te: 'వేసవి వాలి వేట్ పంట',
            bn: 'গ্রীষ্মকালীন লাটা বেটি ফসল',
            gu: 'ઉનાળાની લાટા વેટ્ચું પાક',
            mr: 'उन्हाळ्यातील लाटा वेट्चून पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਲਾਟਾ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '27',
        name: { en: 'Bitter Gourd', hi: 'करेला', ta: 'பிப்பலாம்', te: 'కారేలా', bn: 'করেলা', gu: 'કારેલા', mr: 'करेला', pa: 'ਕੈਰੇਲਾ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 3, // March
        sowingEnd: 5, // May
        harvestingStart: 6, // June
        harvestingEnd: 9, // September
        image: '/crop-icons/bitter-gourd.svg',
        description: {
            en: 'Summer climbing vegetable',
            hi: 'ग्रीष्मकालीन लता सब्जी',
            ta: 'கோடை வாலிப்பு வேட்டு பயிர்',
            te: 'వేసవి వాలి వేట్ పంట',
            bn: 'গ্রীষ্মকালীন লাটা বেটি ফসল',
            gu: 'ઉનાળાની લાટા વેટ્ચું પાક',
            mr: 'उन्हाळ्यातील लाटा वेट्चून पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਲਾਟਾ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '28',
        name: { en: 'Cluster Bean', hi: 'गवार फली', ta: 'குளம்பு', te: 'కులంబు', bn: 'কুলম্ব', gu: 'કુલમ્બ', mr: 'गवार फली', pa: 'ਕੁਲਮਬ' },
        season: 'Kharif',
        cropType: 'Vegetables',
        sowingStart: 6, // June
        sowingEnd: 8, // August
        harvestingStart: 8, // August
        harvestingEnd: 11, // November
        image: '/crop-icons/cluster-bean.svg',
        description: {
            en: 'Kharif season vegetable',
            hi: 'खरीफ ऋतु की सब्जी',
            ta: 'கரீஃப் கட்டியில் வளரும் வேட்டு பயிர்',
            te: 'ఖరీఫ్ కాలంలో వస్తు జరుగుతున్న వేట్ పంట',
            bn: 'খরিফ সালে উঠান হওয়া বেটি ফসল',
            gu: 'ખરીફ વાર્ષિકમાં વસ્તુ જરુગે વેટ્ચું પાક',
            mr: 'खरीफ वर्षात उगालेली वेट्चून पीक',
            pa: 'ਖਰੀਫ ਵਾਰਸ਼ ਵਿੱਚ ਉਠਾਉਣ ਵਾਲੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '29',
        name: { en: 'French Bean', hi: 'फासली बीन', ta: 'பாசலி பீன்', te: 'ఫ్రంచ్ బీన్', bn: 'ফ্রান্স বীন', gu: 'ફ્રાન્સ બીન', mr: 'फासली बीन', pa: 'ਫਾਸਲੀ ਬੀਨ' },
        season: 'Zaid',
        cropType: 'Vegetables',
        sowingStart: 3, // March
        sowingEnd: 5, // May
        harvestingStart: 5, // May
        harvestingEnd: 8, // August
        image: '/crop-icons/french-bean.svg',
        description: {
            en: 'Summer vegetable crop',
            hi: 'ग्रीष्मकालीन सब्जी फसल',
            ta: 'கோடை வேட்டு பயிர்',
            te: 'వేసవి వేట్ పంట',
            bn: 'গ্রীষ্মকালীন বেটি ফসল',
            gu: 'ઉનાળાની વેટ્ચું પાક',
            mr: 'उन्हाळ्यातील वेट्चून पीक',
            pa: 'ਗਰਮੀਆਂ ਦੀ ਬੇਟੀ ਫਸਲ'
        }
    },
    {
        id: '30',
        name: { en: 'Coriander', hi: 'धनिया', ta: 'கொரியாந்திரம்', te: 'కొరియాందిరం', bn: 'কোরিয়ান্দির', gu: 'કોરિયાન્દીર', mr: 'धनिया', pa: 'ਕੋਰਿਆਨਦਿਰ' },
        season: 'Rabi',
        cropType: 'Vegetables',
        sowingStart: 10, // October
        sowingEnd: 12, // December
        harvestingStart: 12, // December
        harvestingEnd: 2, // February (next year)
        image: '/crop-icons/coriander.svg',
        description: {
            en: 'Winter leafy vegetable',
            hi: 'शीतकालीन पत्तेदार सब्जी',
            ta: 'வேளை காலத்தில் பட்டு வேட்டு பயிர்',
            te: 'శీత కాలంలో పట్టు వేట్ పంట',
            bn: 'শীত সময়ের পাটি বেটি ফসল',
            gu: 'શીત વાર્ષિકમાં પટ્ટુ વેટ્ચું પાક',
            mr: 'शीत ऋतुचा पत्तेदार वेट्चून पीक',
            pa: 'ਵਿਹਾਰ ਸਮੇਂ ਪੱਟੀ ਬੇਟੀ ਫਸਲ'
        }
    }
]

// Month names in all 8 languages
const monthNames = {
    en: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
    hi: ['जन', 'फर', 'मार्च', 'अप्रै', 'मई', 'जून', 'जुल', 'अग', 'सित', 'अक्टू', 'नव', 'दिस'],
    ta: ['ஜன', 'பிப்', 'மார்', 'ஏப்', 'மே', 'ஜூன்', 'ஜூலை', 'ஆக', 'செப்', 'அக்', 'நவ', 'டிச'],
    te: ['జన', 'ఫిబ్ర', 'మార్చి', 'ఏప్రి', 'మే', 'జూన్', 'జూలై', 'ఆగ', 'సెప్టెం', 'అక్టో', 'నవం', 'డిసెం'],
    bn: ['জানু', 'ফেব্রু', 'মার্চ', 'এপ্রিল', 'মে', 'জুন', 'জুলাই', 'আগ', 'সেপ্টে', 'অক্টো', 'নভে', 'ডিসে'],
    gu: ['જાન્યુ', 'ફેબ્રુ', 'માર્ચ', 'એપ્રિલ', 'મે', 'જૂન', 'જુલાઈ', 'ઑગ', 'સપ્ટે', 'ઑક્ટો', 'નવે', 'ડિસે'],
    mr: ['जाने', 'फेब्रु', 'मार्च', 'एप्रि', 'मे', 'जून', 'जुलै', 'ऑग', 'सप्टें', 'ऑक्टो', 'नोव्हें', 'डिसें'],
    pa: ['ਜਨ', 'ਫਰਵ', 'ਮਾਰ', 'ਅਪ੍ਰੈ', 'ਮਈ', 'ਜੂਨ', 'ਜੁਲ', 'ਅਗ', 'ਸਤੰ', 'ਅਕਤੂ', 'ਨਵੰ', 'ਦਸੰ']
}

export default function CropCalendarPage() {
    const [selectedSeason, setSelectedSeason] = useState<Season>('All')
    const [selectedCropType, setSelectedCropType] = useState<CropType>('All')
    const [searchQuery, setSearchQuery] = useState('')
    const [filteredCrops, setFilteredCrops] = useState<CropData[]>(cropData)
    const [language, setLanguage] = useState<'en' | 'hi' | 'ta' | 'te' | 'bn' | 'gu' | 'mr' | 'pa'>('en')
    const [isFilterOpen, setIsFilterOpen] = useState(false)

    // Filter crops based on selections
    useEffect(() => {
        let result = cropData

        // Filter by season
        if (selectedSeason !== 'All') {
            result = result.filter(crop => crop.season === selectedSeason)
        }

        // Filter by crop type
        if (selectedCropType !== 'All') {
            result = result.filter(crop => crop.cropType === selectedCropType)
        }

        // Filter by search query
        if (searchQuery) {
            const query = searchQuery.toLowerCase()
            result = result.filter(crop =>
                crop.name.en.toLowerCase().includes(query) ||
                crop.name.hi.toLowerCase().includes(query) ||
                crop.name.ta.toLowerCase().includes(query) ||
                crop.name.te.toLowerCase().includes(query) ||
                crop.name.bn.toLowerCase().includes(query) ||
                crop.name.gu.toLowerCase().includes(query) ||
                crop.name.mr.toLowerCase().includes(query) ||
                crop.name.pa.toLowerCase().includes(query)
            )
        }

        setFilteredCrops(result)
    }, [selectedSeason, selectedCropType, searchQuery])

    // Get month name based on language
    const getMonthName = (monthIndex: number) => {
        return monthNames[language][monthIndex - 1] || monthNames.en[monthIndex - 1]
    }

    // Render crop timeline bar with improved visualization
    const renderTimelineBar = (sowingStart: number, sowingEnd: number, harvestingStart: number, harvestingEnd: number) => {
        const months = Array(12).fill(null)

        return (
            <div className="flex h-12 rounded-xl overflow-hidden border shadow-sm">
                {months.map((_, index) => {
                    const month = index + 1
                    let bgColor = 'bg-gray-100 dark:bg-gray-800' // Default (inactive)
                    let textColor = 'text-gray-500 dark:text-gray-400'
                    let tooltipText = `${getMonthName(month)} (${month}) - Not active`
                    let icon = null

                    // Sowing period (Green with seedling icon)
                    if (month >= sowingStart && month <= sowingEnd) {
                        bgColor = 'bg-gradient-to-br from-green-400 to-green-600'
                        textColor = 'text-white'
                        tooltipText = `${getMonthName(month)} (${month}) - Sowing period`
                        icon = '🌱'
                    }
                    // Harvesting period (Gold with wheat icon)
                    else if (month >= harvestingStart && month <= harvestingEnd) {
                        bgColor = 'bg-gradient-to-br from-amber-500 to-amber-700'
                        textColor = 'text-white'
                        tooltipText = `${getMonthName(month)} (${month}) - Harvesting period`
                        icon = '🌾'
                    }
                    // Growing period (Yellow with leaf icon)
                    else if (
                        (sowingEnd < harvestingStart && month > sowingEnd && month < harvestingStart) ||
                        (sowingEnd > harvestingStart && (month > sowingEnd || month < harvestingStart))
                    ) {
                        bgColor = 'bg-gradient-to-br from-yellow-300 to-yellow-500'
                        textColor = 'text-gray-800'
                        tooltipText = `${getMonthName(month)} (${month}) - Growing period`
                        icon = '🌿'
                    }

                    return (
                        <div
                            key={month}
                            className={`flex-1 ${bgColor} border-r border-white/30 last:border-r-0 flex items-center justify-center text-xs font-medium ${textColor} transition-all duration-200 hover:opacity-90`}
                            title={tooltipText}
                        >
                            <span className="hidden sm:block">{icon}</span>
                            <span className="sm:hidden text-[10px]">{month}</span>
                        </div>
                    )
                })}
            </div>
        )
    }

    // Export calendar as CSV
    const exportToCSV = () => {
        const headers = ['Crop Name', 'Season', 'Crop Type', 'Sowing Period', 'Harvesting Period']
        const rows = filteredCrops.map(crop => [
            crop.name[language],
            crop.season,
            crop.cropType,
            `${getMonthName(crop.sowingStart)} - ${getMonthName(crop.sowingEnd)}`,
            `${getMonthName(crop.harvestingStart)} - ${getMonthName(crop.harvestingEnd)}`
        ])

        let csvContent = headers.join(',') + '\n'
        rows.forEach(row => {
            csvContent += row.join(',') + '\n'
        })

        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' })
        const url = URL.createObjectURL(blob)
        const link = document.createElement('a')
        link.setAttribute('href', url)
        link.setAttribute('download', `crop-calendar-${language}.csv`)
        link.style.visibility = 'hidden'
        document.body.appendChild(link)
        link.click()
        document.body.removeChild(link)
    }

    return (
        <div className="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-yellow-50 dark:from-gray-900 dark:via-slate-800 dark:to-gray-800 p-4 sm:p-6">
            <div className="max-w-7xl mx-auto">
                {/* Header */}
                <div className="mb-8 text-center">
                    <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900 dark:to-green-800 mb-4 shadow-lg">
                        <Calendar className="text-green-600 dark:text-green-400 w-8 h-8" />
                    </div>
                    <h1 className="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-3">
                        {language === 'hi' ? 'फसल कैलेंडर' : language === 'ta' ? 'பயிர் நாட்காட்டி' : language === 'te' ? 'పంట క్యాలెండర్' : language === 'bn' ? 'ফসল ক্যালেন্ডার' : language === 'gu' ? 'પાક કૅલેન્ડર' : language === 'mr' ? 'पीक दिनदर्शिका' : language === 'pa' ? 'ਫਸਲ ਕੈਲੰਡਰ' : 'Crop Calendar'}
                    </h1>
                    <p className="text-gray-600 dark:text-gray-400 max-w-3xl mx-auto text-base sm:text-lg">
                        {language === 'hi'
                            ? 'अपनी फसलों के लिए समय पर बोने और काटने की जानकारी प्राप्त करें। इस कैलेंडर का उपयोग करके अपनी फसलों की उपज को अधिकतम करें।'
                            : language === 'ta'
                                ? 'உங்கள் பயிர்களை நேரம் செலுத்தி விதைக்கவும் மற்றும் அறுவடை செய்யவும் தகவலைப் பெறுங்கள். இந்த நாட்காட்டியைப் பயன்படுத்தி உங்கள் பயிர் விளைச்சலை அதிகரிக்கவும்.'
                                : language === 'te'
                                    ? 'మీ పంటలను సమయానికి నాటడం మరియు పంట కోసడం కోసం సమాచారం పొందండి. ఈ క్యాలెండర్‌ను ఉపయోగించడం ద్వారా మీ పంట దిగుబడిని గరిష్ఠం చేయండి.'
                                    : language === 'bn'
                                        ? 'আপনার ফসলগুলি সময়মতো রোপণ এবং ফসল কাটার জন্য তথ্য পান। এই ক্যালেন্ডারটি ব্যবহার করে আপনার ফসলের ফলন সর্বাধিক করুন।'
                                        : language === 'gu'
                                            ? 'તમારા પાકના સમયસર રોપણ અને કાપવા માટે માહિતી મેળવો. આ કૅલેન્ડરનો ઉપયોગ કરીને તમારા પાકની ઉપજ વધારો.'
                                            : language === 'mr'
                                                ? 'तुमच्या पिकांच्या वेळेवर लावण्यासाठी आणि कापण्यासाठी माहिती मिळवा. या दिनदर्शिकेचा वापर करून तुमच्या पिकाची उत्पादन वाढवा.'
                                                : language === 'pa'
                                                    ? 'ਆਪਣੀਆਂ ਫਸਲਾਂ ਨੂੰ ਸਮੇਂ ਸਿੱਟਣ ਅਤੇ ਕਟਾਈ ਲਈ ਜਾਣਕਾਰੀ ਪ੍ਰਾਪਤ ਕਰੋ। ਇਸ ਕੈਲੰਡਰ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਆਪਣੀਆਂ ਫਸਲਾਂ ਦੀ ਪੈਦਾਵਾਰ ਵਧਾਓ।'
                                                    : 'Get timely information for sowing and harvesting your crops. Maximize your crop yield by using this calendar.'}
                    </p>
                </div>

                {/* Controls - Responsive layout */}
                <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                    {/* Language Toggle - Horizontal scroll on mobile */}
                    <div className="flex gap-1 sm:gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 scrollbar-hide">
                        <button
                            onClick={() => setLanguage('en')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'en' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            English
                        </button>
                        <button
                            onClick={() => setLanguage('hi')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'hi' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            हिंदी
                        </button>
                        <button
                            onClick={() => setLanguage('ta')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'ta' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            தமிழ்
                        </button>
                        <button
                            onClick={() => setLanguage('te')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'te' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            తెలుగు
                        </button>
                        <button
                            onClick={() => setLanguage('bn')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'bn' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            বাংলা
                        </button>
                        <button
                            onClick={() => setLanguage('gu')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'gu' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            ગુજરાતી
                        </button>
                        <button
                            onClick={() => setLanguage('mr')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'mr' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            मराठी
                        </button>
                        <button
                            onClick={() => setLanguage('pa')}
                            className={`px-3 py-1.5 text-xs sm:text-sm rounded-lg transition-all whitespace-nowrap ${language === 'pa' ? 'bg-green-600 text-white shadow-md' : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600'}`}
                        >
                            ਪੰਜਾਬੀ
                        </button>
                    </div>

                    <div className="flex gap-3 w-full sm:w-auto">
                        {/* Search */}
                        <div className="relative flex-grow sm:flex-grow-0 sm:w-48 md:w-64">
                            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
                            <Input
                                placeholder={language === 'hi' ? 'फसल खोजें...' : language === 'ta' ? 'பயிர்களைத் தேடு...' : language === 'te' ? 'పంటలను శోధించండి...' : language === 'bn' ? 'ফসল খুঁজুন...' : language === 'gu' ? 'પાક શોધો...' : language === 'mr' ? 'पीक शोधा...' : language === 'pa' ? 'ਫਸਲਾਂ ਦੀ ਖੋਜ ਕਰੋ...' : 'Search crops...'}
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                className="pl-10 py-5 w-full"
                            />
                        </div>

                        {/* Export Button */}
                        <Button onClick={exportToCSV} className="flex items-center gap-2 bg-green-600 hover:bg-green-700 whitespace-nowrap">
                            <Download className="w-4 h-4 hidden sm:block" />
                            <span className="text-sm">{language === 'hi' ? 'निर्यात' : language === 'ta' ? 'ஏற்றுமதி' : language === 'te' ? 'ఎగుమతి' : language === 'bn' ? 'রপ্তানি' : language === 'gu' ? 'નિકાસ' : language === 'mr' ? 'निर्यात' : language === 'pa' ? 'ਬਰਾਮਦ' : 'Export'}</span>
                        </Button>
                    </div>
                </div>

                {/* Filter Toggle for Mobile */}
                <div className="mb-4 sm:hidden">
                    <Button
                        onClick={() => setIsFilterOpen(!isFilterOpen)}
                        className="w-full flex items-center justify-center gap-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600"
                        variant="outline"
                    >
                        <Filter className="w-4 h-4" />
                        {language === 'hi' ? 'फ़िल्टर दिखाएँ/छिपाएँ' : language === 'ta' ? 'வடிப்பான்களைக் காட்டு/மறை' : language === 'te' ? 'ఫిల్టర్లను చూపు/దాచు' : language === 'bn' ? 'ফিল্টার দেখান/লুকান' : language === 'gu' ? 'ફિલ્ટર બતાવો/છુપાવો' : language === 'mr' ? 'फिल्टर दाखवा/लपवा' : language === 'pa' ? 'ਫਿਲਟਰ ਵੇਖਾਓ/ਓਹਲੇ ਕਰੋ' : 'Show/Hide Filters'}
                    </Button>
                </div>

                {/* Filters - Hidden on mobile */}
                <div className={`sm:flex gap-4 mb-6 ${isFilterOpen ? 'block' : 'hidden'}`}>
                    {/* Season Filter */}
                    <div className="flex flex-col gap-1">
                        <label className="text-sm font-medium text-gray-700 dark:text-gray-300">
                            {language === 'hi' ? 'ऋतु' : language === 'ta' ? 'வருடம்' : language === 'te' ? 'ऋతు' : language === 'bn' ? 'মৌসুম' : language === 'gu' ? 'ऋતુ' : language === 'mr' ? 'ऋतु' : language === 'pa' ? 'ਮਹੁਨ' : 'Season'}
                        </label>
                        <Select
                            value={selectedSeason}
                            onChange={(e) => setSelectedSeason(e.target.value)}
                            className="w-full"
                        >
                            <option value="All">{language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સામાન્ય' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇ' : 'All'}</option>
                            <option value="Kharif">{language === 'hi' ? 'खरीफ' : language === 'ta' ? 'காரிவு' : language === 'te' ? 'ఖరీఫ్' : language === 'bn' ? 'খারিফ' : language === 'gu' ? 'ખરીફ' : language === 'mr' ? 'खरीफ' : language === 'pa' ? 'ਖਾਰਿਫ' : 'Kharif'}</option>
                            <option value="Rabi">{language === 'hi' ? 'रबी' : language === 'ta' ? 'ரਬੀ' : language === 'te' ? 'రబీ' : language === 'bn' ? 'রবী' : language === 'gu' ? 'રબી' : language === 'mr' ? 'रबी' : language === 'pa' ? 'ਰਬੀ' : 'Rabi'}</option>
                            <option value="Zaid">{language === 'hi' ? 'जैद' : language === 'ta' ? 'జைத' : language === 'te' ? 'జైద' : language === 'bn' ? 'জাইদ' : language === 'gu' ? 'જાઇડ' : language === 'mr' ? 'जैद' : language === 'pa' ? 'ਜੈਦ' : 'Zaid'}</option>
                        </Select>
                    </div>

                    {/* Crop Type Filter */}
                    <div className="flex flex-col gap-1">
                        <label className="text-sm font-medium text-gray-700 dark:text-gray-300">
                            {language === 'hi' ? 'फसल प्रकार' : language === 'ta' ? 'பயிர் வகை' : language === 'te' ? 'పంట రకం' : language === 'bn' ? 'ফসল ধরণ' : language === 'gu' ? 'પાક પ્રકાર' : language === 'mr' ? 'फसल प्रकार' : language === 'pa' ? 'ਫਸਲ ਪ੍ਰਕਾਰ' : 'Crop Type'}
                        </label>
                        <Select
                            value={selectedCropType}
                            onChange={(e) => setSelectedCropType(e.target.value)}
                            className="w-full"
                        >
                            <option value="All">{language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સામાન્ય' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇ' : 'All'}</option>
                            <option value="Cereal">{language === 'hi' ? 'गन्ना' : language === 'ta' ? 'கான்னா' : language === 'te' ? 'గణ్నా' : language === 'bn' ? 'গান্না' : language === 'gu' ? 'ગણ્ના' : language === 'mr' ? 'गन्ना' : language === 'pa' ? 'ਗਣਨਾ' : 'Cereal'}</option>
                            <option value="Pulses">{language === 'hi' ? 'दाल' : language === 'ta' ? 'தாள்' : language === 'te' ? 'పాల్లు' : language === 'bn' ? 'পাল' : language === 'gu' ? 'પાલ' : language === 'mr' ? 'दाल' : language === 'pa' ? 'ਦਾਲ' : 'Pulses'}</option>
                            <option value="Oilseeds">{language === 'hi' ? 'तेलाम' : language === 'ta' ? 'தேலாம்' : language === 'te' ? 'తేలామ్' : language === 'bn' ? 'তেলাম' : language === 'gu' ? 'તેલામ' : language === 'mr' ? 'तेलाम' : language === 'pa' ? 'ਤੇਲਾਮ' : 'Oilseeds'}</option>
                            <option value="Vegetables">{language === 'hi' ? 'सब्जी' : language === 'ta' ? 'வேட்டுப்பாட்டியம்' : language === 'te' ? 'వేట్టు' : language === 'bn' ? 'সবজি' : language === 'gu' ? 'સબજી' : language === 'mr' ? 'सब्जी' : language === 'pa' ? 'ਸਬਜੀ' : 'Vegetables'}</option>
                            <option value="Fruits">{language === 'hi' ? 'फल' : language === 'ta' ? 'பழம்' : language === 'te' ? 'పప్పు' : language === 'bn' ? 'ফল' : language === 'gu' ? 'ફળ' : language === 'mr' ? 'फल' : language === 'pa' ? 'ਫ਼ਲ' : 'Fruits'}</option>
                            <option value="Others">{language === 'hi' ? 'अन्य' : language === 'ta' ? 'மற்ற' : language === 'te' ? 'ఇతర' : language === 'bn' ? 'অন্য' : language === 'gu' ? 'અન્ય' : language === 'mr' ? 'अन्य' : language === 'pa' ? 'ਅਨ੍ਯ' : 'Others'}</option>
                        </Select>
                    </div>
                </div>

                {/* Crop List */}
                <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    {filteredCrops.map(crop => (
                        <div key={crop.id} className="bg-white dark:bg-gray-700 rounded-lg shadow-md p-4">
                            <h2 className="text-lg font-semibold text-gray-900 dark:text-white mb-2">
                                {crop.name[language]}
                            </h2>
                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-2">
                                {language === 'hi' ? 'ऋतु' : language === 'ta' ? 'வருடம்' : language === 'te' ? 'ऋతు' : language === 'bn' ? 'মৌসুম' : language === 'gu' ? 'ऋતુ' : language === 'mr' ? 'ऋतु' : language === 'pa' ? 'ਮਹੁਨ' : 'Season'}: {crop.season}
                            </p>
                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-2">
                                {language === 'hi' ? 'फसल प्रकार' : language === 'ta' ? 'பயிர் வகை' : language === 'te' ? 'పంట రకం' : language === 'bn' ? 'ফসল ধরণ' : language === 'gu' ? 'પાક પ્રકાર' : language === 'mr' ? 'फसल प्रकार' : language === 'pa' ? 'ਫਸਲ ਪ੍ਰਕਾਰ' : 'Crop Type'}: {crop.cropType}
                            </p>
                            <div className="mb-2">
                                {renderTimelineBar(crop.sowingStart, crop.sowingEnd, crop.harvestingStart, crop.harvestingEnd)}
                            </div>
                        </div>
                    ))}
                </div>
                        {language === 'hi' ? 'फ़िल्टर दिखाएँ/छिपाएँ' : language === 'ta' ? 'வடிப்பான்களைக் காட்டு/மறை' : language === 'te' ? 'ఫిల్టర్లను చూపు/దాచు' : language === 'bn' ? 'ফিল্টার দেখান/লুকান' : language === 'gu' ? 'ફિલ્ટર બતાવો/છુપાવો' : language === 'mr' ? 'फिल्टर दाखवा/लपवा' : language === 'pa' ? 'ਫਿਲਟਰ ਵੇਖਾਓ/ਓਹਲੇ ਕਰੋ' : 'Show/Hide Filters'}
                    </Button>
                </div>

                {/* Filters */}
                <Card className={`mb-8 bg-white dark:bg-gray-800 shadow-lg ${isFilterOpen ? 'block' : 'hidden sm:block'}`}>
                    <CardContent className="p-6">
                        <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                            <Filter className="w-5 h-5" />
                            {language === 'hi' ? 'फ़िल्टर' : language === 'ta' ? 'வடிப்பான்கள்' : language === 'te' ? 'ఫిల్టర్లు' : language === 'bn' ? 'ফিল্টার' : language === 'gu' ? 'ફિલ્ટર' : language === 'mr' ? 'फिल्टर' : language === 'pa' ? 'ਫਿਲਟਰ' : 'Filters'}
                        </h3>
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <Label className="text-sm font-medium text-gray-900 dark:text-white mb-2">
                                    {language === 'hi' ? 'मौसम' : language === 'ta' ? 'வாரம்' : language === 'te' ? 'వారం' : language === 'bn' ? 'মাস' : language === 'gu' ? 'માસ' : language === 'mr' ? 'मास' : language === 'pa' ? 'ਮਾਸ' : 'Season'}
                                </Label>
                                <Select
                                    value={selectedSeason}
                                    onValueChange={(value) => setSelectedSeason(value)}
                                    className="w-full"
                                >
                                    <SelectTrigger className="w-full">
                                        <SelectValue placeholder={language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સબ' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇਹੀ' : 'All'} />
                                    </SelectTrigger>
                                    <SelectContent>
                                        <SelectItem value="All">{language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સબ' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇਹੀ' : 'All'}</SelectItem>
                                        <SelectItem value="Kharif">{language === 'hi' ? 'खरीफ' : language === 'ta' ? 'காரிவு' : language === 'te' ? 'కారిఫ్' : language === 'bn' ? 'খারিফ' : language === 'gu' ? 'ખારિફ' : language === 'mr' ? 'खारीफ' : language === 'pa' ? 'ਖਾਰਿਫ' : 'Kharif'}</SelectItem>
                                        <SelectItem value="Rabi">{language === 'hi' ? 'रबी' : language === 'ta' ? 'ராபி' : language === 'te' ? 'రాబీ' : language === 'bn' ? 'রবী' : language === 'gu' ? 'રાਬી' : language === 'mr' ? 'रबी' : language === 'pa' ? 'ਰਬੀ' : 'Rabi'}</SelectItem>
                                        <SelectItem value="Zaid">{language === 'hi' ? 'जैद' : language === 'ta' ? 'జைத்' : language === 'te' ? 'జైద్' : language === 'bn' ? 'জাইদ' : language === 'gu' ? 'જાઇડ' : language === 'mr' ? 'जैद' : language === 'pa' ? 'ਜੈਦ' : 'Zaid'}</SelectItem>
                                    </SelectContent>
                                </Select>
                            </div>
                            <div>
                                <Label className="text-sm font-medium text-gray-900 dark:text-white mb-2">
                                    {language === 'hi' ? 'फसल प्रकार' : language === 'ta' ? 'பயிர் வகை' : language === 'te' ? 'పంట రకం' : language === 'bn' ? 'ফসল ধরণ' : language === 'gu' ? 'પાક પ્રકાર' : language === 'mr' ? 'फसल प्रकार' : language === 'pa' ? 'ਫਸਲ ਪ੍ਰਕਾਰ' : 'Crop Type'}
                                </Label>
                                <Select
                                    value={selectedCropType}
                                    onValueChange={(value) => setSelectedCropType(value)}
                                    className="w-full"
                                >
                                    <SelectTrigger className="w-full">
                                        <SelectValue placeholder={language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સબ' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇਹੀ' : 'All'} />
                                    </SelectTrigger>
                                    <SelectContent>
                                        <SelectItem value="All">{language === 'hi' ? 'सभी' : language === 'ta' ? 'அனைத்து' : language === 'te' ? 'అన్ని' : language === 'bn' ? 'সব' : language === 'gu' ? 'સબ' : language === 'mr' ? 'सर्व' : language === 'pa' ? 'ਅੱਡੇਹੀ' : 'All'}</SelectItem>
                                        <SelectItem value="Vegetables">{language === 'hi' ? 'सब्जियाँ' : language === 'ta' ? 'வெட்டுக்கூட்டுகள்' : language === 'te' ? 'వేట్టుకూడ్టులు' : language === 'bn' ? 'সবজি' : language === 'gu' ? 'સબજીઓ' : language === 'mr' ? 'सब्जी' : language === 'pa' ? 'ਸਬਜੀਆਂ' : 'Vegetables'}</SelectItem>
                                        <SelectItem value="Fruits">{language === 'hi' ? 'फल' : language === 'ta' ? 'பழங்கள்' : language === 'te' ? 'పప్పులు' : language === 'bn' ? 'ফল' : language === 'gu' ? 'ફળો' : language === 'mr' ? 'फळ' : language === 'pa' ? 'ਫ਼ਲ' : 'Fruits'}</SelectItem>
                                        <SelectItem value="Cereals">{language === 'hi' ? 'धान' : language === 'ta' ? 'அఞ్జిర' : language === 'te' ? 'అఞ్జిర' : language === 'bn' ? 'ধান' : language === 'gu' ? 'ધાન' : language === 'mr' ? 'धान' : language === 'pa' ? 'ਧਾਨ' : 'Cereals'}</SelectItem>
                                        <SelectItem value="Pulses">{language === 'hi' ? 'दाल' : language === 'ta' ? 'தாள்' : language === 'te' ? 'పప్పులు' : language === 'bn' ? 'দাল' : language === 'gu' ? 'દાળ' : language === 'mr' ? 'दाळ' : language === 'pa' ? 'ਦਾਲ' : 'Pulses'}</SelectItem>
                                        <SelectItem value="Oilseeds">{language === 'hi' ? 'तेलाम' : language === 'ta' ? 'எல்லாம்' : language === 'te' ? 'తేలామ్' : language === 'bn' ? 'তেলাম' : language === 'gu' ? 'તેલામ' : language === 'mr' ? 'तेलाम' : language === 'pa' ? 'ਤੇਲਾਮ' : 'Oilseeds'}</SelectItem>
                                        <SelectItem value="Others">{language === 'hi' ? 'अन्य' : language === 'ta' ? 'மற்ற' : language === 'te' ? 'ఇతర' : language === 'bn' ? 'অন্য' : language === 'gu' ? 'અન્ય' : language === 'mr' ? 'इतर' : language === 'pa' ? 'ਅਨ੍‍ਆਨਕ' : 'Others'}</SelectItem>
                                    </SelectContent>
                                </Select>
                            </div>
                        </div>
                    </CardContent>
                </Card>

                {/* Crop List */}
                <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    {filteredCrops.map(crop => (
                        <Card key={crop.id} className="bg-white dark:bg-gray-800 shadow-lg">
                            <CardContent className="p-4">
                                <div className="flex items-center justify-between mb-2">
                                    <h3 className="text-lg font-semibold text-gray-900 dark:text-white">
                                        {crop.name[language]}
                                    </h3>
                                </div>
                                <div className="flex items-center justify-between mb-2">
                                    <span className="text-sm font-medium text-gray-900 dark:text-white">
                                        {language === 'hi' ? 'मौसम' : language === 'ta' ? 'வாரம்' : language === 'te' ? 'వారం' : language === 'bn' ? 'মাস' : language === 'gu' ? 'માસ' : language === 'mr' ? 'मास' : language === 'pa' ? 'ਮਾਸ' : 'Season'}
                                    </span>
                                    <span className="text-sm text-gray-600 dark:text-gray-400">
                                        {crop.season}
                                    </span>
                                </div>
                                <div className="flex items-center justify-between mb-2">
                                    <span className="text-sm font-medium text-gray-900 dark:text-white">
                                        {language === 'hi' ? 'फसल प्रकार' : language === 'ta' ? 'பயிர் வகை' : language === 'te' ? 'పంట రకం' : language === 'bn' ? 'ফসল ধরণ' : language === 'gu' ? 'પાક પ્રકાર' : language === 'mr' ? 'फसल प्रकार' : language === 'pa' ? 'ਫਸਲ ਪ੍ਰਕਾਰ' : 'Crop Type'}
                                    </span>
                                    <span className="text-sm text-gray-600 dark:text-gray-400">
                                        {crop.cropType}
                                    </span>
                                </div>
                                <div className="flex items-center justify-between mb-2">
                                    <span className="text-sm font-medium text-gray-900 dark:text-white">
                                        {language === 'hi' ? 'बोना' : language === 'ta' ? 'செலுத்து' : language === 'te' ? 'నాటడం' : language === 'bn' ? 'রোপণ' : language === 'gu' ? 'રોપણ' : language === 'mr' ? 'रोपण' : language === 'pa' ? 'ਰੋਪਣ' : 'Sowing'}
                                    </span>
                                    <span className="text-sm text-gray-600 dark:text-gray-400">
                                        {getMonthName(crop.sowingStart)} - {getMonthName(crop.sowingEnd)}
                                    </span>
                                </div>
                                <div className="flex items-center justify-between mb-2">
                                    <span className="text-sm font-medium text-gray-900 dark:text-white">
                                        {language === 'hi' ? 'काटना' : language === 'ta' ? 'விதைக்கு' : language === 'te' ? 'కోసడం' : language === 'bn' ? 'কাটা' : language === 'gu' ? 'કાપવો' : language === 'mr' ? 'कापणे' : language === 'pa' ? 'ਕਟਾਈ' : 'Harvesting'}
                                    </span>
                                    <span className="text-sm text-gray-600 dark:text-gray-400">
                                        {getMonthName(crop.harvestingStart)} - {getMonthName(crop.harvestingEnd)}
                                    </span>
                                </div>
                                <div className="mt-4">
                                    {renderTimelineBar(crop.sowingStart, crop.sowingEnd, crop.harvestingStart, crop.harvestingEnd)}
                                </div>
                            </CardContent>
                        </Card>
                    ))}
                </div>
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {/* Season Filter */}
                            <div>
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                    {language === 'hi' ? 'ऋतु' : 'Season'}
                                </label>
                                <Select value={selectedSeason} onValueChange={(value: string) => setSelectedSeason(value as Season)}>
                                    <SelectTrigger className="py-5">
                                        <SelectValue placeholder={language === 'hi' ? 'ऋतु चुनें' : language === 'ta' ? 'பருவத்தைத் தேர்ந்தெடுக்கவும்' : language === 'te' ? 'సీజన్‌ను ఎంచుకోండి' : language === 'bn' ? 'মৌসুম নির্বাচন করুন' : language === 'gu' ? 'ઋતુ પસંદ કરો' : language === 'mr' ? 'हंगाम निवडा' : language === 'pa' ? 'ਮੌਸਮ ਚੁਣੋ' : 'Select Season'} />
                                    </SelectTrigger>
                                    <SelectContent>
                                        <SelectItem value="All">{language === 'hi' ? 'सभी ऋतुएँ' : language === 'ta' ? 'அனைத்து பருவங்களும்' : language === 'te' ? 'అన్ని సీజన్లు' : language === 'bn' ? 'সব মৌসুম' : language === 'gu' ? 'બધા ઋતુ' : language === 'mr' ? 'सर्व हंगाम' : language === 'pa' ? 'ਸਾਰੇ ਮੌਸਮ' : 'All Seasons'}</SelectItem>
                                        <SelectItem value="Kharif">{language === 'hi' ? 'खरीफ' : language === 'ta' ? 'கரீஃப்' : language === 'te' ? 'ఖరీఫ్' : language === 'bn' ? 'খরিফ' : language === 'gu' ? 'ખરીફ' : language === 'mr' ? 'खरीफ' : language === 'pa' ? 'ਖਰੀਫ' : 'Kharif'}</SelectItem>
                                        <SelectItem value="Rabi">{language === 'hi' ? 'रबी' : language === 'ta' ? 'ரபி' : language === 'te' ? 'రబీ' : language === 'bn' ? 'রবি' : language === 'gu' ? 'রબી' : language === 'mr' ? 'रब्बी' : language === 'pa' ? 'ਰਬੀ' : 'Rabi'}</SelectItem>
                                        <SelectItem value="Zaid">{language === 'hi' ? 'ज़ैद' : language === 'ta' ? 'ஜைத்' : language === 'te' ? 'జైత్' : language === 'bn' ? 'জাইদ' : language === 'gu' ? 'જૈત' : language === 'mr' ? 'जैत' : language === 'pa' ? 'ਜ਼ੈਦ' : 'Zaid'}</SelectItem>
                                    </SelectContent>
                                </Select>
                            </div>

                            {/* Crop Type Filter */}
                            <div>
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                    {language === 'hi' ? 'फसल प्रकार' : 'Crop Type'}
                                </label>
                                <Select value={selectedCropType} onValueChange={(value: string) => setSelectedCropType(value as CropType)}>
                                    <SelectTrigger className="py-5">
                                        <SelectValue placeholder={language === 'hi' ? 'फसल प्रकार चुनें' : language === 'ta' ? 'பயிர் வகையைத் தேர்ந்தெடுக்கவும்' : language === 'te' ? 'పంట రకాన్ని ఎంచుకోండి' : language === 'bn' ? 'ফসলের ধরন নির্বাচন করুন' : language === 'gu' ? 'પાક પ્રકાર પસંદ કરો' : language === 'mr' ? 'पीक प्रकાર निवडा' : language === 'pa' ? 'ਫਸਲ ਦੀ ਕਿਸਮ ਚੁਣੋ' : 'Select Crop Type'} />
                                    </SelectTrigger>
                                    <SelectContent>
                                        <SelectItem value="All">{language === 'hi' ? 'सभी प्रकार' : language === 'ta' ? 'அனைத்து வகைகள்' : language === 'te' ? 'అన్ని రకాలు' : language === 'bn' ? 'সব ধরন' : language === 'gu' ? 'બધા પ્રકાર' : language === 'mr' ? 'सर्व प्रकार' : language === 'pa' ? 'ਸਾਰੀਆਂ ਕਿਸਮਾਂ' : 'All Types'}</SelectItem>
                                        <SelectItem value="Cereal">{language === 'hi' ? 'अनाज' : language === 'ta' ? 'கோதுமை' : language === 'te' ? 'ధాన్యం' : language === 'bn' ? 'শস্য' : language === 'gu' ? 'અનાજ' : language === 'mr' ? 'धान्य' : language === 'pa' ? 'ਅਨਾਜ' : 'Cereal'}</SelectItem>
                                        <SelectItem value="Pulses">{language === 'hi' ? 'दालें' : language === 'ta' ? 'பருப்பு' : language === 'te' ? 'పప్పు' : language === 'bn' ? 'ডাল' : language === 'gu' ? 'દાળ' : language === 'mr' ? 'दाळी' : language === 'pa' ? 'ਦਾਲਾਂ' : 'Pulses'}</SelectItem>
                                        <SelectItem value="Vegetables">{language === 'hi' ? 'सब्जियाँ' : language === 'ta' ? 'காய்கறிகள்' : language === 'te' ? 'వేట్' : language === 'bn' ? 'বেটি' : language === 'gu' ? 'શાકભાજી' : language === 'mr' ? 'भाज्या' : language === 'pa' ? 'ਬੇਟੀ' : 'Vegetables'}</SelectItem>
                                        <SelectItem value="Fruits">{language === 'hi' ? 'फल' : language === 'ta' ? 'பழங்கள்' : language === 'te' ? 'పండ్లు' : language === 'bn' ? 'ফল' : language === 'gu' ? 'ફળો' : language === 'mr' ? 'फळे' : language === 'pa' ? 'ਫਲ' : 'Fruits'}</SelectItem>
                                        <SelectItem value="Oilseeds">{language === 'hi' ? 'तिलहन' : language === 'ta' ? 'எண்ணெய் விதைகள்' : language === 'te' ? 'ఎండు ధాన్యాలు' : language === 'bn' ? 'তেল ফসল' : language === 'gu' ? 'તેલદાણાં' : language === 'mr' ? 'तेलबियाणे' : language === 'pa' ? 'ਤੇਲ ਫਸਲ' : 'Oilseeds'}</SelectItem>
                                        <SelectItem value="Fibers">{language === 'hi' ? 'रेशम' : language === 'ta' ? 'இழை' : language === 'te' ? 'ఫైబర్లు' : language === 'bn' ? 'ফাইবার' : language === 'gu' ? 'રેશમ' : language === 'mr' ? 'फायबर' : language === 'pa' ? 'ਰੇਸ਼ਮ' : 'Fibers'}</SelectItem>
                                    </SelectContent>
                                </Select>
                            </div>

                            {/* Search */}
                            <div className="md:col-span-2">
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                    {language === 'hi' ? 'फसल खोजें' : language === 'ta' ? 'பயிர்களைத் தேடு' : language === 'te' ? 'పంటలను శోధించండి' : language === 'bn' ? 'ফসল খুঁজুন' : language === 'gu' ? 'પાક શોધો' : language === 'mr' ? 'पीक शोधा' : language === 'pa' ? 'ਫਸਲਾਂ ਦੀ ਖੋਜ ਕਰੋ' : 'Search Crops'}
                                </label>
                                <div className="relative">
                                    <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
                                    <Input
                                        placeholder={language === 'hi' ? 'फसल का नाम दर्ज करें...' : language === 'ta' ? 'பயிர் பெயரை உள்ளிடவும்...' : language === 'te' ? 'పంట పేరును నమోదు చేయండి...' : language === 'bn' ? 'ফসলের নাম লিখুন...' : language === 'gu' ? 'પાકનું નામ દાખલ કરો...' : language === 'mr' ? 'पीकाचे नाव प्रविष्ट करा...' : language === 'pa' ? 'ਫਸਲ ਦਾ ਨਾਮ ਦਰਜ ਕਰੋ...' : 'Enter crop name...'}
                                        value={searchQuery}
                                        onChange={(e) => setSearchQuery(e.target.value)}
                                        className="pl-10 py-5"
                                    />
                                </div>
                            </div>
                        </div>

                        {/* Legend */}
                        <div className="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700">
                            <h4 className="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">
                                {language === 'hi' ? 'कैलेंडर कुंजी' : language === 'ta' ? 'நாட்காட்டி விசை' : language === 'te' ? 'క్యాలెండర్ కీ' : language === 'bn' ? 'ক্যালেন্ডার কী' : language === 'gu' ? 'કૅલેન્ડર કી' : language === 'mr' ? 'दिनदर्शिका की' : language === 'pa' ? 'ਕੈਲੰਡਰ ਕੁੰਜੀ' : 'Calendar Key'}
                            </h4>
                            <div className="flex flex-wrap gap-4">
                                <div className="flex items-center gap-2">
                                    <div className="w-4 h-4 bg-green-500 rounded"></div>
                                    <span className="text-sm text-gray-700 dark:text-gray-300">
                                        {language === 'hi' ? 'बोना' : language === 'ta' ? 'விதைத்தல்' : language === 'te' ? 'నాటడం' : language === 'bn' ? 'রোপণ' : language === 'gu' ? 'রોપણ' : language === 'mr' ? 'लावणे' : language === 'pa' ? 'ਬੋਨਾ' : 'Sowing'}
                                    </span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-4 h-4 bg-yellow-400 rounded"></div>
                                    <span className="text-sm text-gray-700 dark:text-gray-300">
                                        {language === 'hi' ? 'बढ़ना' : language === 'ta' ? 'வளர்த்தல்' : language === 'te' ? 'పెరుగుతోంది' : language === 'bn' ? 'বাড়ছে' : language === 'gu' ? 'વધી રહ્યું છે' : language === 'mr' ? 'वाढत आहे' : language === 'pa' ? 'ਬਢਨਾ' : 'Growing'}
                                    </span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-4 h-4 bg-amber-700 rounded"></div>
                                    <span className="text-sm text-gray-700 dark:text-gray-300">
                                        {language === 'hi' ? 'काटना' : language === 'ta' ? 'அறுவடை' : language === 'te' ? 'పంట కోసడం' : language === 'bn' ? 'ফসল কাটানো' : language === 'gu' ? 'કાપવું' : language === 'mr' ? 'कापणे' : language === 'pa' ? 'ਕਟਾਈ' : 'Harvesting'}
                                    </span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-4 h-4 bg-gray-50 dark:bg-gray-800 rounded border"></div>
                                    <span className="text-sm text-gray-700 dark:text-gray-300">
                                        {language === 'hi' ? 'निष्क्रिय अवधि' : language === 'ta' ? 'செயலற்ற காலம்' : language === 'te' ? 'నిష్క్రియ కాలం' : language === 'bn' ? 'নিষ্ক্রিয় সময়' : language === 'gu' ? 'નિષ્ક્રિય સમયગાળો' : language === 'mr' ? 'निष्क्रिय कालावधी' : language === 'pa' ? 'ਨਿਸ਼ਕ੍ਰਿਯ ਅਵਧੀ' : 'Inactive Period'}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </CardContent>
                </Card>



                {/* Crop Calendar */}
                <div className="space-y-6">

                    {filteredCrops.length > 0 ? (
                        filteredCrops.map((crop) => (
                            <Card key={crop.id} className="bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden">
                                <CardContent className="p-5">
                                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-5">
                                        {/* Crop Info Section */}
                                        <div className="flex items-start gap-4 w-full lg:col-span-5">
                                            <div className="bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 border-2 border-dashed border-green-300 dark:border-green-700 rounded-xl w-16 h-16 flex items-center justify-center flex-shrink-0">
                                                <Sprout className="text-green-600 dark:text-green-400 w-8 h-8" />
                                            </div>
                                            <div className="flex-grow">
                                                <div className="flex flex-wrap items-start justify-between gap-2">
                                                    <h3 className="font-bold text-xl text-gray-900 dark:text-white">
                                                        {crop.name[language]}
                                                    </h3>
                                                    <div className="flex flex-wrap gap-1">
                                                        <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100">
                                                            {crop.season}
                                                        </span>
                                                        <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-100">
                                                            {crop.cropType}
                                                        </span>
                                                    </div>
                                                </div>
                                                
                                                {crop.description && (
                                                    <p className="text-sm text-gray-600 dark:text-gray-300 mt-2">
                                                        {crop.description[language]}
                                                    </p>
                                                )}
                                                
                                                <div className="flex flex-wrap gap-3 mt-3">
                                                    <div className="flex items-center gap-1">
                                                        <div className="w-2 h-2 rounded-full bg-green-500"></div>
                                                        <span className="text-xs text-gray-600 dark:text-gray-400">
                                                            {getMonthName(crop.sowingStart)} - {getMonthName(crop.sowingEnd)}
                                                        </span>
                                                    </div>
                                                    <div className="flex items-center gap-1">
                                                        <div className="w-2 h-2 rounded-full bg-amber-600"></div>
                                                        <span className="text-xs text-gray-600 dark:text-gray-400">
                                                            {getMonthName(crop.harvestingStart)} - {getMonthName(crop.harvestingEnd)}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* Timeline Section */}
                                        <div className="lg:col-span-7">
                                            <div className="mb-3">
                                                <div className="flex justify-between items-center mb-1">
                                                    <span className="text-xs font-medium text-gray-500 dark:text-gray-400">Jan</span>
                                                    <span className="text-xs font-medium text-gray-500 dark:text-gray-400">Dec</span>
                                                </div>
                                                {renderTimelineBar(
                                                    crop.sowingStart,
                                                    crop.sowingEnd,
                                                    crop.harvestingStart,
                                                    crop.harvestingEnd
                                                )}
                                            </div>
                                            
                                            {/* Period information in a more compact format */}
                                            <div className="flex flex-wrap gap-4 text-xs">
                                                <div className="flex items-center gap-1.5">
                                                    <div className="w-3 h-3 rounded bg-gradient-to-br from-green-400 to-green-600"></div>
                                                    <span className="text-gray-700 dark:text-gray-300">
                                                        {language === 'hi' ? 'बोना' : language === 'ta' ? 'விதைத்தல்' : language === 'te' ? 'నాటడం' : language === 'bn' ? 'রোপণ' : language === 'gu' ? 'রોપણ' : language === 'mr' ? 'लावणे' : language === 'pa' ? 'ਬੋਨਾ' : 'Sowing'}
                                                    </span>
                                                </div>
                                                <div className="flex items-center gap-1.5">
                                                    <div className="w-3 h-3 rounded bg-gradient-to-br from-yellow-300 to-yellow-500"></div>
                                                    <span className="text-gray-700 dark:text-gray-300">
                                                        {language === 'hi' ? 'बढ़ना' : language === 'ta' ? 'வளர்த்தல்' : language === 'te' ? 'పెరుగుతోంది' : language === 'bn' ? 'বাড়ছে' : language === 'gu' ? 'વધી રહ્યું છે' : language === 'mr' ? 'वाढत आहे' : language === 'pa' ? 'ਬਢਨਾ' : 'Growing'}
                                                    </span>
                                                </div>
                                                <div className="flex items-center gap-1.5">
                                                    <div className="w-3 h-3 rounded bg-gradient-to-br from-amber-500 to-amber-700"></div>
                                                    <span className="text-gray-700 dark:text-gray-300">
                                                        {language === 'hi' ? 'काटना' : language === 'ta' ? 'அறுவடை' : language === 'te' ? 'పంట కోసడం' : language === 'bn' ? 'ফসল কাটানো' : language === 'gu' ? 'કાપવું' : language === 'mr' ? 'कापणे' : language === 'pa' ? 'ਕਟਾਈ' : 'Harvesting'}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>
                        ))
                    ) : (
                        <div className="text-center py-12">
                            <Sprout className="w-12 h-12 text-gray-400 mx-auto mb-4" />
                            <h3 className="text-lg font-medium text-gray-900 dark:text-white mb-1">
                                {language === 'hi' ? 'कोई फसल नहीं मिली' : language === 'ta' ? 'பயிர்கள் எதுவும் கிடைக்கவில்லை' : language === 'te' ? 'పంటలు ఏవీ కనబడలేదు' : language === 'bn' ? 'কোন ফসল পাওয়া যায়নি' : language === 'gu' ? 'કોઈ પાક મળ્યું નથી' : language === 'mr' ? 'कोणतीही पीक मिळाली नाही' : language === 'pa' ? 'ਕੋਈ ਫਸਲ ਨਹੀਂ ਮਿਲੀ' : 'No crops found'}
                            </h3>
                            <p className="text-gray-500 dark:text-gray-400">
                                {language === 'hi'
                                    ? 'अपने खोज या फ़िल्टर को समायोजित करने का प्रयास करें'
                                    : language === 'ta' ? 'உங்கள் தேடல் அல்லது வடிப்பான்களைச் சரிசெய்ய முயற்சிக்கவும்'
                                        : language === 'te' ? 'మీ శోధన లేదా ఫిల్టర్లను సర్దుబాటు చేయడానికి ప్రయత్నించండి'
                                            : language === 'bn' ? 'আপনার অనুসন্ধান বা ফিল্টার সামঞ্জস্য করার চেষ্টা করুন'
                                                : language === 'gu' ? 'તમારી શોધ અથવા ફિલ્ટરોને સમાયોજિત કરવાનો પ્રયત્ન કરો'
                                                    : language === 'mr' ? 'तुमच्या शोध किंवा फिल्टरची समायोजने करण्याचा प्रयत्न करा'
                                                        : language === 'pa' ? 'ਆਪਣੀ ਖੋਜ ਜਾਂ ਫਿਲਟਰਾਂ ਨੂੰ ਸਮਾਯੋਜਿਤ ਕਰਨ ਦੀ ਕੋਸ਼ਿਸ਼ ਕਰੋ'
                                                            : 'Try adjusting your search or filters'}
                            </p>
                        </div>
                    )}
                </div>
            </div>
        </div>
    )
}