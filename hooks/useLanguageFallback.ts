// Language fallback and validation utilities
import { Language } from './useLanguage'

export const SUPPORTED_LANGUAGES = ['en', 'hi', 'ta', 'te', 'bn', 'gu', 'mr', 'pa'] as const
export type SupportedLanguage = typeof SUPPORTED_LANGUAGES[number]

export function isValidLanguage(lang: string | null | undefined): lang is SupportedLanguage {
    if (!lang) return false
    return SUPPORTED_LANGUAGES.includes(lang as SupportedLanguage)
}

export function getSafeLanguage(lang: string | null | undefined): SupportedLanguage {
    return isValidLanguage(lang) ? lang : 'en'
}

export function getLanguageDisplayText(langCode: string | null | undefined): string {
    const safeCode = getSafeLanguage(langCode)
    const displayNames: Record<SupportedLanguage, string> = {
        'en': 'English',
        'hi': 'рд╣рд┐рдВрджреА',
        'ta': 'родрооро┐ро┤рпН',
        'te': 'р░др▒Жр░▓р▒Бр░Чр▒Б',
        'bn': 'ржмрж╛ржВрж▓рж╛',
        'gu': 'ркЧрлБркЬрк░рк╛ркдрлА',
        'mr': 'рдорд░рд╛рдареА',
        'pa': 'рикрй░риЬри╛римрйА'
    }
    return displayNames[safeCode]
}

export function getLanguageDisplayEmoji(langCode: string | null | undefined): string {
    const safeCode = getSafeLanguage(langCode)
    const emojiMap: Record<SupportedLanguage, string> = {
        'en': 'ЁЯЗ║ЁЯЗ╕',
        'hi': 'ЁЯЗоЁЯЗ│',
        'ta': 'ЁЯЗоЁЯЗ│',
        'te': 'ЁЯЗоЁЯЗ│',
        'bn': 'ЁЯЗзЁЯЗй',
        'gu': 'ЁЯЗоЁЯЗ│',
        'mr': 'ЁЯЗоЁЯЗ│',
        'pa': 'ЁЯЗоЁЯЗ│'
    }
    return emojiMap[safeCode]
}

export function getFullLanguageDisplay(langCode: string | null | undefined): string {
    const safeCode = getSafeLanguage(langCode)
    const text = getLanguageDisplayText(safeCode)
    const emoji = getLanguageDisplayEmoji(safeCode)
    return `${emoji} ${text}`
}

export const translations: Record<string, Record<string, string>> = {
    en: {
        'cameraAccessDenied': 'Camera access denied. Please allow camera permissions to use this feature.',
        'cameraPermissionDenied': 'Camera permission was denied. Please allow camera access in your browser settings.',
        'cameraNotFound': 'No camera found on this device.',
        'cameraInUse': 'Camera is already in use by another application.',
        'cameraNotSupported': 'Camera is not supported in your browser. Please try a modern browser like Chrome, Firefox, or Edge.',
        'cameraSecureContextRequired': 'Camera access requires a secure connection (HTTPS or localhost).',
        'captureFailed': 'Failed to capture photo. Please try again.',
        'videoNotReady': 'Video is not ready yet. Please wait a moment and try again.',
        'capturePhoto': 'Capture Photo',
        'cancel': 'Cancel',
        'recording': 'LIVE',
        'cameraLoading': 'Loading camera...',
        'useCamera': 'Use Camera'
    },
    hi: {
        'cameraAccessDenied': 'рдХреИрдорд░рд╛ рдПрдХреНрд╕реЗрд╕ рдЕрд╕реНрд╡реАрдХреГрддред рдХреГрдкрдпрд╛ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрдорд░рд╛ рдЕрдиреБрдорддрд┐ рджреЗрдВред',
        'cameraPermissionDenied': 'рдХреИрдорд░рд╛ рдЕрдиреБрдорддрд┐ рдЕрд╕реНрд╡реАрдХреГрддред рдХреГрдкрдпрд╛ рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХреИрдорд░рд╛ рдПрдХреНрд╕реЗрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВред',
        'cameraNotFound': 'рдЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдХреЛрдИ рдХреИрдорд░рд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛ред',
        'cameraInUse': 'рдХреИрдорд░рд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд┐рд╕реА рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИред',
        'cameraNotSupported': 'рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдХреИрдорд░рд╛ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред рдХреГрдкрдпрд╛ Chrome, Firefox рдпрд╛ Edge рдЬреИрд╕реЗ рдЖрдзреБрдирд┐рдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред',
        'cameraSecureContextRequired': 'рдХреИрдорд░рд╛ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд┐рдд рдХрдиреЗрдХреНрд╢рди (HTTPS рдпрд╛ localhost) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред',
        'captureFailed': 'рдлреЛрдЯреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред',
        'videoNotReady': 'рд╡реАрдбрд┐рдпреЛ рдЕрднреА рддреИрдпрд╛рд░ рдирд╣реАрдВ рд╣реИред рдХреГрдкрдпрд╛ рдХреБрдЫ рдХреНрд╖рдг рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдФрд░ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред',
        'capturePhoto': 'рдлреЛрдЯреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ',
        'cancel': 'рд░рджреНрдж рдХрд░реЗрдВ',
        'recording': 'рд▓рд╛рдЗрд╡',
        'cameraLoading': 'рдХреИрдорд░рд╛ рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...',
        'useCamera': 'рдХреИрдорд░рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ'
    },
    ta: {
        'cameraAccessDenied': 'роХрпИроорпЗро░ро╛ роЕрогрпБроХро▓рпН родро╛ройрпНродро┐ро░роорпН. роЗроирпНрод ро╡рогро┐роХрпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНрод роХрпИроорпЗро░ро╛ роЕройрпБроородро┐роХро│рпИ роЕройрпБроородро┐роХрпНроХро╡рпБроорпН.',
        'cameraPermissionDenied': 'роХрпИроорпЗро░ро╛ роЕройрпБроородро┐ родро╛ройрпНродро┐ро░роорпН. роЙроЩрпНроХро│рпН ро╡ро▓рпИрокрпНрокро╛роЯрпНроЯрпБ роЕроорпИрокрпНрокрпБроХро│ро┐ро▓рпН роХрпИроорпЗро░ро╛ роЕрогрпБроХро▓рпН роЕройрпБроородро┐ропрпИ роЕройрпБроородро┐роХрпНроХро╡рпБроорпН.',
        'cameraNotFound': 'роЗроирпНрод роЙрокроХро░рогродрпНродро┐ро▓рпН роХрпИроорпЗро░ро╛ роХро╛рогрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ.',
        'cameraInUse': 'роХрпИроорпЗро░ро╛ рооро▒рпНро▒рпКро░рпБ рокропройрпНрокро╛роЯрпБ роорпБройрпНройро░рпН рокропройрпНрокроЯрпБродрпНродро┐роХрпНроХрпКрогрпНроЯрпБро│рпНро│родрпБ.',
        'cameraNotSupported': 'роЙроЩрпНроХро│рпН ро╡ро▓рпИрокрпНрокро╛роЯрпНроЯро┐ро▓рпН роХрпИроорпЗро░ро╛ роЕродро┐роХрпНроХро╛ро░роорпН роЙро│рпНро│родрпБ. Chrome, Firefox роЕро▓рпНро▓родрпБ Edge рокрпЛройрпНро▒ рооро╛ро▒рпНро▒рпБроорпН ро╡ро▓рпИрокрпНрокро╛роЯрпНроЯрпБроХро│рпИ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН.',
        'cameraSecureContextRequired': 'роХрпИроорпЗро░ро╛ роЕрогрпБроХро▓рпН роТро░рпБ роироорпНроородрпНродро┐ро░рооро╛рой роЗрогрпИрокрпНрокро┐ро▓рпН (HTTPS роЕро▓рпНро▓родрпБ localhost) родрпЗро╡рпИ.',
        'captureFailed': 'рокрпБроХрпИрокрпНрокроЯ роХрпИрокрпНрокро▒рпНро▒рпБроорпН родрпЛро▓рпНро╡ро┐ропро╛роХ ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯродрпБ. роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.',
        'videoNotReady': 'ро╡рпАроЯро┐ропрпЛ роЗрокрпНрокрпЛродрпБ родропро╛ро░ро╛роХро╡ро┐ро▓рпНро▓рпИ. роЪро┐ро▓ роиро┐рооро┐ро╖роЩрпНроХро│рпН роХро╛родрпНродро┐ро░рпБроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.',
        'capturePhoto': 'рокрпБроХрпИрокрпНрокроЯ роХрпИрокрпНрокро▒рпНро▒рпБ',
        'cancel': 'ро░родрпНродрпБ роЪрпЖропрпН',
        'recording': 'роЗро┤роирпНродродрпБ',
        'cameraLoading': 'роХрпИроорпЗро░ро╛ ро╡ро╛роЩрпНроХрпБроХро┐ро▒родрпБ...',
        'useCamera': 'роХрпИроорпЗро░ро╛ рокропройрпНрокроЯрпБродрпНродрпБ'
    },
    te: {
        'cameraAccessDenied': 'р░Хр▒Жр░ор▒Жр░░р░╛ р░пр░╛р░Хр▒Нр░╕р▒Жр░╕р▒Н р░ир░┐р░░р░╛р░Хр░░р░┐р░Вр░Ър░мр░бр░┐р░Вр░жр░┐. р░И р░лр▒Ар░Ър░░р▒НтАМр░ир▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐ р░Хр▒Жр░ор▒Жр░░р░╛ р░Ер░ир▒Бр░ор░др▒Бр░▓р░ир▒Б р░Ер░ир▒Бр░ор░др░┐р░Вр░Ър░Вр░бр░┐.',
        'cameraPermissionDenied': 'р░Хр▒Жр░ор▒Жр░░р░╛ р░Ер░ир▒Бр░ор░др░┐ р░ир░┐р░░р░╛р░Хр░░р░┐р░Вр░Ър░мр░бр░┐р░Вр░жр░┐. р░ор▒А р░мр▒Нр░░р▒Мр░Ьр░░р▒Н р░╕р▒Жр░Яр▒Нр░Яр░┐р░Вр░Чр▒НтАМр░▓р░▓р▒Л р░Хр▒Жр░ор▒Жр░░р░╛ р░пр░╛р░Хр▒Нр░╕р▒Жр░╕р▒НтАМр░ир▒Б р░Ер░ир▒Бр░ор░др░┐р░Вр░Ър░Вр░бр░┐.',
        'cameraNotFound': 'р░И р░кр░░р░┐р░Хр░░р░Вр░▓р▒Л р░Хр▒Жр░ор▒Жр░░р░╛ р░Хр░ир▒Бр░Чр▒Кр░ир░мр░бр░▓р▒Зр░жр▒Б.',
        'cameraInUse': 'р░Хр▒Жр░ор▒Жр░░р░╛ р░Зр░кр▒Нр░кр░Яр░┐р░Хр▒З р░ор░░р▒Кр░Х р░пр░╛р░кр▒Н р░жр▒Нр░╡р░╛р░░р░╛ р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░мр░бр▒Бр░др▒Лр░Вр░жр░┐.',
        'cameraNotSupported': 'р░ор▒А р░мр▒Нр░░р▒Мр░Ьр░░р▒НтАМр░▓р▒Л р░Хр▒Жр░ор▒Жр░░р░╛ р░ор░жр▒Нр░жр░др▒Б р░▓р▒Зр░жр▒Б. Chrome, Firefox р░▓р▒Зр░жр░╛ Edge р░╡р░Вр░Яр░┐ р░Жр░зр▒Бр░ир░┐р░Х р░мр▒Нр░░р▒Мр░Ьр░░р▒НтАМр░ир▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░Вр░бр░┐.',
        'cameraSecureContextRequired': 'р░Хр▒Жр░ор▒Жр░░р░╛ р░пр░╛р░Хр▒Нр░╕р▒Жр░╕р▒НтАМр░Хр▒Б р░╕р▒Бр░░р░Хр▒Нр░╖р░┐р░д р░Хр░ир▒Жр░Хр▒Нр░╖р░ир▒Н (HTTPS р░▓р▒Зр░жр░╛ localhost) р░Ер░╡р░╕р░░р░В.',
        'captureFailed': 'р░лр▒Кр░Яр▒Л р░др▒Ар░пр░бр░Вр░▓р▒Л р░╡р░┐р░лр░▓р░ор▒Ир░Вр░жр░┐. р░жр░пр░Ър▒Зр░╕р░┐ р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐.',
        'videoNotReady': 'р░╡р▒Ар░бр░┐р░пр▒Л р░Зр░Вр░Хр░╛ р░╕р░┐р░жр▒Нр░зр░Вр░Чр░╛ р░▓р▒Зр░жр▒Б. р░Хр▒Кр░Вр░д р░╕р░ор░пр░В р░╡р▒Зр░Ър░┐ р░Йр░ир▒Нр░ир░╛ р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐.',
        'capturePhoto': 'р░лр▒Кр░Яр▒Л р░др▒Ар░пр░Вр░бр░┐',
        'cancel': 'р░░р░жр▒Нр░жр▒Б р░Ър▒Зр░пр░Вр░бр░┐',
        'recording': 'р░▓р▒Ир░╡р▒Н',
        'cameraLoading': 'р░Хр▒Жр░ор▒Жр░░р░╛ р░▓р▒Лр░бр░╡р▒Бр░др▒Лр░Вр░жр░┐...',
        'useCamera': 'р░Хр▒Жр░ор▒Жр░░р░╛р░ир▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░Вр░бр░┐'
    }
}